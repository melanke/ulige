<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
    <head>
        <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
        <meta content='width=device-width, initial-scale=1, maximum-scale=1' name='viewport'/>

        <title>Testando notification</title>

    <body>


<script>
    var isNotificationEnabled = false;

    var configurarNotification = function () {  
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register("localnotification.js")
                    .then(initnotificationState);
        }
    };

    var initnotificationState = function() {

        if (!('showNotification' in ServiceWorkerRegistration.prototype)) {
            alert("Seu navegador não suporta notificações");
            return;
        }

        // Let's check if the browser supports notifications
        if (!("Notification" in window)) {
            alert("Seu navegador não suporta notificações");

        } else if (Notification.permission !== "granted" && Notification.permission !== 'denied') {
            Notification.requestPermission(function (permission) {
                navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {

                });
            });
        }

    };

    var subscribeNotification = function() {

        navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {

        });
    };

configurarNotification();
subscribeNotification();
</script>

    </body>

</html>